<div
  class="modal fade"
  id="addPortfolioBike"
  tabindex="-1"
  role="modal"
  aria-labelledby="modal-label"
  aria-hidden="true"
  style="display: none"
>
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-hidden="true"
        >
          ×
        </button>
      </div>
      <div class="modal-body">
        <div class="row">
          <h4 class="text-green">Ajouter un vélo au catalogue</h4>
          <form
            id="widget-addCatalog-form"
            action="apis/Kameo/add_catalog_bike.php"
            role="form"
            method="post"
          >
            <div class="col-sm-12">
              <h4 class="text-green">Informations sur le modèle</h4>
              <div class="col-sm-12">
                <div class="col-sm-4">
                  <label for="brand"> Marque : </label>
                  <select class="form-control required" name="brand">
                    <option value="Ahooga">Ahooga</option>
                    <option value="Benno">Benno</option>
                    <option value="Bzen">Bzen</option>
                    <option value="Conway">Conway</option>
                    <option value="Douze Cycle">Douze Cycle</option>
                    <option value="HNF Nicolai">HNF Nicolai</option>
                    <option value="Kayza">Kayza</option>
                    <option value="Orbea">Orbea</option>
                    <option value="Victoria">Victoria</option>
                    <option value="Stevens">Stevens</option>
                    <option value="other">Other</option>
                  </select>
                </div>
                <div class="col-sm-4">
                  <label for="model"> Modèle : </label>
                  <input
                    type="text"
                    class="form-control required"
                    name="model"
                  />
                </div>
                <div class="col-sm-4">
                  <label for="frame"> Type de cadre : </label>
                  <select class="form-control required" name="frame">
                    <option value="F">Femme</option>
                    <option value="H">Homme</option>
                    <option value="M">Mixte</option>
                  </select>
                </div>
              </div>
              <div class="col-sm-12">
                <div class="col-sm-4">
                  <label for="utilisation"> Utilisation : </label>
                  <select class="form-control required" name="utilisation" onchange="showDivLicense(this)">
                    <option value="Tout chemin">Tout chemin</option>
                    <option value="Ville et chemin">Ville et chemin</option>
                    <option value="Pliant">Pliant</option>
                    <option value="Ville">Vile</option>
                    <option value="Cargo">Cargo</option>
                    <option value="Gravel">Gravel</option>
                    <option value="VTT">VTT</option>
                    <option value="Speedpedelec" id="speedPedelec">Speedpedelec</option>
                  </select>
                </div>
                <div class="col-sm-4">
                  <label for="electric"> Vélo électrique ? </label>
                  <select class="form-control required" name="electric">
                    <option value="Y">Y</option>
                    <option value="N">N</option>
                  </select>
                </div>
                <div class="col-sm-4">
                  <label for="season"> Saison : </label>
                  <select class="form-control required" name="season">
                    <option value="2019-2020">2019-2020</option>
                    <option value="2020-2021">2020-2021</option>
                    <option value="2021-2022">2021-2022</option>
                  </select>
                </div>
                <!--<div class="col-sm-4" id="license" style="display:none;">
                  <label for="license" name="license"> Plaque d'immatriculation : </label>
                  <input
                    type="text"
                    class="form-control required"
                    name="license"
                  />
                </div> -->

                <script type="text/javascript">
                  function showDivLicense(select){
                    if(select.value=="Speedpedelec"){
                      document.getElementById('license').style.display = "block";
                    } else{
                      document.getElementById('license').style.display = "none";
                    }
                  }
                </script>
                <div class="col-sm-4">
                  <label for="priority"> Afficher ? </label>
                  <input
                    type="checkbox"
                    class="form-control"
                    name="display"
                  />
                </div>
                <div class="col-sm-4">
                  <label for="link"> Lien vers le site : </label>
                  <input
                    type="text"
                    class="form-control required"
                    name="link"
                  />
                </div>
                <div class="col-sm-4">
                  <label for="priority"> Priorité : </label>
                  <input
                    type="number"
                    min='0'
                    max='100'
                    class="form-control required"
                    name="priority"
                  />
                </div>
              </div>
              <div class="col-sm-12">
                <div class="col-sm-4">
                  <label for="motor"> Moteur : </label>
                  <input
                    type="text"
                    name="motor"
                    class="form-control"
                  />
                </div>
                <div class="col-sm-4">
                  <label for="battery"> Batterie : </label>
                  <input
                    type="text"
                    class="form-control required"
                    name="battery"
                  />
                </div>
                <div class="col-sm-4">
                  <label for="transmission"> Transmission : </label>
                  <input
                    type="text"
                    class="form-control required"
                    name="transmission"
                  />
                </div>
                <div class="col-sm-4">
                  <label for="sizes"> Tailles disponibles : </label>
                  <select name="sizes[]" class="form-control" id="sizes" size = 6 multiple>
                    <option value="unique">Unique</option>
                    <option value="XS">XS</option>
                    <option value="S">S</option>
                    <option value="M">M</option>
                    <option value="L">L</option>
                    <option value="XL">XL</option>
                  </select>
                </div>
              </div>
              <div class="separator"></div>
              <h4 class="text-green">Information financières et stock</h4>
              <div class="col-sm-12">
                <div class="col-sm-4">
                  <label for="buyPrice">Prix d'achat</label>
                  <input
                    type="text"
                    class="form-control required"
                    name="buyPrice"
                  />
                </div>
                <div class="col-sm-4">
                  <label for="price"> Prix : </label>
                  <input
                    type="text"
                    class="form-control required"
                    name="price"
                  />
                </div>
                <div class="col-sm-4">
                  <label for="stock"> En stock ? </label>
                  <input
                    type="text"
                    class="bikeCatalogStock form-control"
                    name="stock"
                  />
                </div>
              </div>
              <div class="separator"></div>
              <h4 class="text-green">Photos</h4>
              <div class="form-group col-sm-6">
                <label for="file">Photo</label>
                <input type="hidden" name="MAX_FILE_SIZE" value="6291456" />
                <input
                  type="file"
                  size="40"
                  class="form-control required"
                  name="file"
                />
              </div>
              <div class="col-sm-6">
                <label for="fileMini">Photo mini</label>
                <input type="hidden" name="MAX_FILE_SIZE" value="6291456" />
                <input
                  type="file"
                  size="40"
                  class="form-control required"
                  name="fileMini"
                />
              </div>
            </div>
            <input
              type="text"
              name="user"
              value="<?php echo $user_data['EMAIL']; ?>"
              class="hidden"
            />
            <div class="col-sm-12">
              <button
                class="button small green button-3d rounded icon-left"
                type="submit"
              >
                <i class="fa fa-paper-plane"></i>Envoyer
              </button>
            </div>
          </form>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-b" data-dismiss="modal">
          Fermer
        </button>
      </div>
    </div>
  </div>
</div>
<script type="text/javascript">
  jQuery("#widget-addCatalog-form").validate({
    submitHandler: function (form) {
      jQuery(form).ajaxSubmit({
        success: function (response) {
          if (response.response == "success") {
            $.notify(
              {
                message: response.message,
              },
              {
                type: "success",
              }
            );

            listPortfolioBikes();
            document.getElementById("widget-addCatalog-form").reset();
            $("#addPortfolioBike").modal("toggle");
          } else {
            $.notify(
              {
                message: response.message,
              },
              {
                type: "danger",
              }
            );
          }
        },
      });
    },
  });
</script>
